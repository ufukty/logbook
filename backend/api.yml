public:
  path: /api/public
  services:
    account:
      path: /account/public
      endpoints:
        create_profile: { method: POST, path: "/profile" }
        create_user: { method: POST, path: "/user" }
        login: { method: POST, path: "/login" }
        logout: { method: POST, path: "/logout" }
        whoami: { method: GET, path: "/whoami" }
        reserve_username: { method: POST, path: "/registration/reserve_username" }
        verify_phone: { method: POST, path: "/registration/verify/phone" }
        verify_email: { method: POST, path: "/registration/verify/email" }
        register: { method: POST, path: "/registration/register" }
        totp: { method: POST, path: "/registration/totp" }

    document:
      path: /document/public
      endpoints:
        list: { method: GET, path: "/list/{root}" }

    groups:
      path: /groups/public
      endpoints:
        create: { method: POST, path: "group" }

    objectives:
      path: /objectives/public
      endpoints:
        attach: { method: POST, path: "/attach" }
        create: { method: POST, path: "/" }
        delete: { method: POST, path: "/delete" }
        placement: { method: GET, path: "/{root}/placement" }
        mark: { method: POST, path: "/mark" }

    tags:
      path: /tags/public
      endpoints:
        creation: { method: POST, path: "/" }
        assign: { method: POST, path: "/assign" }

internal:
  path: /api/private
  services:
    account:
      path: /account/private
      endpoints:
        who-is: { method: POST, path: "/whois" }

    objectives:
      path: /objectives/private
      endpoints:
        rock-create: { method: POST, path: "/rock" }

    registry:
      path: /registry/private
      endpoints:
        register-instance: { method: POST, path: "/register" }
        list-instances: { method: GET, path: "/list/{service}" }
        recheck-instance: { method: POST, path: "/recheck" }
