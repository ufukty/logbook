api-gateway:
  services:
    account: /account
    groups: /groups
    objectives: /objectives
    tags: /tags

internal-gateway:
  services:
    registry: /registry

account:
  public:
    create_profile: { method: POST, path: "/profile" }
    create_account: { method: POST, path: "/account" }
    login: { method: POST, path: "/login" }
    logout: { method: POST, path: "/logout" }
    whoami: { method: GET, path: "/whoami" }
    reserve_username: { method: POST, path: "/registration/reserve_username" }
    verify_phone: { method: POST, path: "/registration/verify/phone" }
    verify_email: { method: POST, path: "/registration/verify/email" }
    register: { method: POST, path: "/registration/register" }
    totp: { method: POST, path: "/registration/totp" }
  private:
    who-is: { method: POST, path: "/whois" }
    
groups:
  public:
    create: { method: POST, path: "group" }

objectives:
  public:
    attach: { method: POST, path: "/attach" }
    create: { method: POST, path: "/" }
    delete: { method: POST, path: "/delete" }
    placement: { method: GET, path: "/{root}/placement" }
    mark: { method: POST, path: "/mark" }
  private:
    rock-create: { method: POST, path: "/rock" }

tags:
  public:
    creation: { method: POST, path: "/" }
    assign: { method: POST, path: "/assign" }

registry:
  private:
    register-instance: { method: POST, path: "/register" }
    list-instances: { method: GET, path: "/list/{service}" }
    recheck-instance: { method: POST, path: "/recheck" }
